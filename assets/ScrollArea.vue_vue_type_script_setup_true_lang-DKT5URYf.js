import{k as A,i as x,u as M,v as oe,z as ie,c as v,h as g,g as W,x as F,r as d,W as ue,w as X,R as se,Y as ce,l as ve,d as he,B as V,D as fe,E as de,G as be,ab as ge,a9 as me}from"./index-BvzkyXQ3.js";import{h as ye,b as ze}from"./vm-BlVMHJTM.js";import{u as Se,a as pe,e as G,Q as Me,c as _,l as $,m as N,T as L}from"./_plugin-vue_export-helper-tE6HAu6M.js";const Re=A({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:a}){const{proxy:{$q:n}}=W(),o=x(oe,M);if(o===M)return console.error("QPage needs to be a deep child of QLayout"),M;if(x(ie,M)===M)return console.error("QPage needs to be child of QPageContainer"),M;const s=v(()=>{const t=(o.header.space===!0?o.header.size:0)+(o.footer.space===!0?o.footer.size:0);if(typeof e.styleFn=="function"){const f=o.isContainer.value===!0?o.containerHeight.value:n.screen.height;return e.styleFn(t,f)}return{minHeight:o.isContainer.value===!0?o.containerHeight.value-t+"px":n.screen.height===0?t!==0?`calc(100vh - ${t}px)`:"100vh":n.screen.height-t+"px"}}),r=v(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>g("main",{class:r.value,style:s.value},ye(a.default))}}),we=A({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[g("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),g("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),F(g("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),F(g("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),K=["vertical","horizontal"],B={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Y={prevent:!0,mouse:!0,mouseAllDir:!0},U=e=>e>=250?50:Math.ceil(e/5),Te=A({name:"QScrollArea",props:{...Se,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:a,emit:n}){const o=d(!1),i=d(!1),s=d(!1),r={vertical:d(0),horizontal:d(0)},t={vertical:{ref:d(null),position:d(0),size:d(0)},horizontal:{ref:d(null),position:d(0),size:d(0)}},{proxy:f}=W(),h=pe(e,f.$q);let y=null,m;const b=d(null),I=v(()=>"q-scrollarea"+(h.value===!0?" q-scrollarea--dark":""));Object.assign(r,{verticalInner:v(()=>r.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:v(()=>r.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),t.vertical.percentage=v(()=>{const l=t.vertical.size.value-r.vertical.value;if(l<=0)return 0;const u=_(t.vertical.position.value/l,0,1);return Math.round(u*1e4)/1e4}),t.vertical.thumbHidden=v(()=>(e.visible===null?s.value:e.visible)!==!0&&o.value===!1&&i.value===!1||t.vertical.size.value<=r.vertical.value+1),t.vertical.thumbStart=v(()=>e.verticalOffset[0]+t.vertical.percentage.value*(r.verticalInner.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=v(()=>Math.round(_(r.verticalInner.value*r.verticalInner.value/t.vertical.size.value,U(r.verticalInner.value),r.verticalInner.value))),t.vertical.style=v(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),t.vertical.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=v(()=>{const l=t.horizontal.size.value-r.horizontal.value;if(l<=0)return 0;const u=_(Math.abs(t.horizontal.position.value)/l,0,1);return Math.round(u*1e4)/1e4}),t.horizontal.thumbHidden=v(()=>(e.visible===null?s.value:e.visible)!==!0&&o.value===!1&&i.value===!1||t.horizontal.size.value<=r.horizontal.value+1),t.horizontal.thumbStart=v(()=>e.horizontalOffset[0]+t.horizontal.percentage.value*(r.horizontalInner.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=v(()=>Math.round(_(r.horizontalInner.value*r.horizontalInner.value/t.horizontal.size.value,U(r.horizontalInner.value),r.horizontalInner.value))),t.horizontal.style=v(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[f.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),t.horizontal.thumbClass=v(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=v(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const k=v(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function E(){const l={};return K.forEach(u=>{const c=t[u];Object.assign(l,{[u+"Position"]:c.position.value,[u+"Percentage"]:c.percentage.value,[u+"Size"]:c.size.value,[u+"ContainerSize"]:r[u].value,[u+"ContainerInnerSize"]:r[u+"Inner"].value})}),l}const w=ue(()=>{const l=E();l.ref=f,n("scroll",l)},0);function j(l,u,c){if(K.includes(l)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(l==="vertical"?N:$)(b.value,u,c)}function Z({height:l,width:u}){let c=!1;r.vertical.value!==l&&(r.vertical.value=l,c=!0),r.horizontal.value!==u&&(r.horizontal.value=u,c=!0),c===!0&&O()}function ee({position:l}){let u=!1;t.vertical.position.value!==l.top&&(t.vertical.position.value=l.top,u=!0),t.horizontal.position.value!==l.left&&(t.horizontal.position.value=l.left,u=!0),u===!0&&O()}function te({height:l,width:u}){t.horizontal.size.value!==u&&(t.horizontal.size.value=u,O()),t.vertical.size.value!==l&&(t.vertical.size.value=l,O())}function R(l,u){const c=t[u];if(l.isFirst===!0){if(c.thumbHidden.value===!0)return;m=c.position.value,i.value=!0}else if(i.value!==!0)return;l.isFinal===!0&&(i.value=!1);const p=B[u],T=(c.size.value-r[u].value)/(r[u+"Inner"].value-c.thumbSize.value),P=l.distance[p.dist],H=m+(l.direction===p.dir?1:-1)*P*T;D(H,u)}function Q(l,u){const c=t[u];if(c.thumbHidden.value!==!0){const p=u==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],T=l[B[u].offset]-p,P=c.thumbStart.value-p;if(T<P||T>P+c.thumbSize.value){const H=T-c.thumbSize.value/2,le=_(H/(r[u+"Inner"].value-c.thumbSize.value),0,1);D(le*Math.max(0,c.size.value-r[u].value),u)}c.ref.value!==null&&c.ref.value.dispatchEvent(new MouseEvent(l.type,l))}}function O(){o.value=!0,y!==null&&clearTimeout(y),y=setTimeout(()=>{y=null,o.value=!1},e.delay),e.onScroll!==void 0&&w()}function D(l,u){b.value[B[u].scroll]=l}let S=null;function re(){S!==null&&clearTimeout(S),S=setTimeout(()=>{S=null,s.value=!0},f.$q.platform.is.ios?50:0)}function ae(){S!==null&&(clearTimeout(S),S=null),s.value=!1}let q=null;X(()=>f.$q.lang.rtl,l=>{b.value!==null&&$(b.value,Math.abs(t.horizontal.position.value)*(l===!0?-1:1))}),se(()=>{q={top:t.vertical.position.value,left:t.horizontal.position.value}}),ce(()=>{if(q===null)return;const l=b.value;l!==null&&($(l,q.left),N(l,q.top))}),ve(w.cancel),Object.assign(f,{getScrollTarget:()=>b.value,getScroll:E,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:j,setScrollPercentage(l,u,c){j(l,u*(t[l].size.value-r[l].value)*(l==="horizontal"&&f.$q.lang.rtl===!0?-1:1),c)}});const ne={scroll:t,thumbVertDir:[[L,l=>{R(l,"vertical")},void 0,{vertical:!0,...Y}]],thumbHorizDir:[[L,l=>{R(l,"horizontal")},void 0,{horizontal:!0,...Y}]],onVerticalMousedown(l){Q(l,"vertical")},onHorizontalMousedown(l){Q(l,"horizontal")}};return()=>g("div",{class:I.value,onMouseenter:re,onMouseleave:ae},[g("div",{ref:b,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[g("div",{class:"q-scrollarea__content absolute",style:k.value},ze(a.default,[g(G,{debounce:0,onResize:te})])),g(Me,{axis:"both",onScroll:ee})]),g(G,{debounce:0,onResize:Z}),g(we,{store:ne,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),_e=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function C({r:e,g:a,b:n,a:o}){const i=o!==void 0;if(e=Math.round(e),a=Math.round(a),n=Math.round(n),e>255||a>255||n>255||i&&o>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return o=i?(Math.round(255*o/100)|256).toString(16).slice(1):"","#"+(n|a<<8|e<<16|1<<24).toString(16).slice(1)+o}function J(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const a=parseInt(e,16);return e.length>6?{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:Math.round((a&255)/2.55)}:{r:a>>16,g:a>>8&255,b:a&255}}function Ee({h:e,s:a,v:n,a:o}){let i,s,r;a=a/100,n=n/100,e=e/360;const t=Math.floor(e*6),f=e*6-t,h=n*(1-a),y=n*(1-f*a),m=n*(1-(1-f)*a);switch(t%6){case 0:i=n,s=m,r=h;break;case 1:i=y,s=n,r=h;break;case 2:i=h,s=n,r=m;break;case 3:i=h,s=y,r=n;break;case 4:i=m,s=h,r=n;break;case 5:i=n,s=h,r=y;break}return{r:Math.round(i*255),g:Math.round(s*255),b:Math.round(r*255),a:o}}function Oe({r:e,g:a,b:n,a:o}){const i=Math.max(e,a,n),s=Math.min(e,a,n),r=i-s,t=i===0?0:r/i,f=i/255;let h;switch(i){case s:h=0;break;case e:h=a-n+r*(a<n?6:0),h/=6*r;break;case a:h=n-e+r*2,h/=6*r;break;case n:h=e-a+r*4,h/=6*r;break}return{h:Math.round(h*360),s:Math.round(t*100),v:Math.round(f*100),a:o}}function z(e){if(typeof e!="string")throw new TypeError("Expected a string");const a=e.replace(/ /g,""),n=_e.exec(a);if(n===null)return J(a);const o={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const i=parseFloat(n[5]);o.a=Math.min(1,isNaN(i)===!0?1:i)*100}return o}function qe(e,a){if(typeof e!="string")throw new TypeError("Expected a string as color");if(typeof a!="number")throw new TypeError("Expected a numeric percent");const n=z(e),o=a<0?0:255,i=Math.abs(a)/100,s=n.r,r=n.g,t=n.b;return"#"+(16777216+(Math.round((o-s)*i)+s)*65536+(Math.round((o-r)*i)+r)*256+(Math.round((o-t)*i)+t)).toString(16).slice(1)}function Pe(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const a=typeof e=="string"?z(e):e,n=a.r/255,o=a.g/255,i=a.b/255,s=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),r=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),t=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4);return .2126*s+.7152*r+.0722*t}function Ce(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const a=typeof e=="string"?z(e):e;return(a.r*299+a.g*587+a.b*114)/1e3}function Ie(e,a){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b[, a]} object as fgColor");if(typeof a!="string"&&(!a||a.r===void 0))throw new TypeError("Expected a string or a {r, g, b[, a]} object as bgColor");const n=typeof e=="string"?z(e):e,o=n.r/255,i=n.g/255,s=n.b/255,r=n.a!==void 0?n.a/100:1,t=typeof a=="string"?z(a):a,f=t.r/255,h=t.g/255,y=t.b/255,m=t.a!==void 0?t.a/100:1,b=r+m*(1-r),I=Math.round((o*r+f*m*(1-r))/b*255),k=Math.round((i*r+h*m*(1-r))/b*255),E=Math.round((s*r+y*m*(1-r))/b*255),w={r:I,g:k,b:E,a:Math.round(b*100)};return typeof e=="string"?C(w):w}function ke(e,a){if(typeof e!="string")throw new TypeError("Expected a string as color");if(a===void 0||a<-1||a>1)throw new TypeError("Expected offset to be between -1 and 1");const{r:n,g:o,b:i,a:s}=z(e),r=s!==void 0?s/100:0;return C({r:n,g:o,b:i,a:Math.round(Math.min(1,Math.max(0,r+a))*100)})}function He(e){if(typeof e!="string")throw new TypeError("Expected a string as color");const a=document.createElement("div");a.className=`text-${e} invisible fixed no-pointer-events`,document.body.appendChild(a);const n=getComputedStyle(a).getPropertyValue("color");return a.remove(),C(z(n))}const $e={rgbToHex:C,hexToRgb:J,hsvToRgb:Ee,rgbToHsv:Oe,textToRgb:z,lighten:qe,luminosity:Pe,brightness:Ce,blend:Ie,changeAlpha:ke,getPaletteColor:He},Qe=he({__name:"ScrollArea",props:{style:{default:()=>({height:"100vh",width:"100vw"})}},setup(e){const a=e,{getPaletteColor:n}=$e,o=d(n("primary")),i=V({right:"4px",borderRadius:"5px",backgroundColor:o.value,width:"5px",opacity:"0.75"}),s=V({right:"2px",borderRadius:"9px",backgroundColor:o.value,width:"9px",opacity:"0.2"});return X(o,r=>{i.backgroundColor=r}),(r,t)=>(fe(),de(Te,{style:me(a.style),"thumb-style":i,"bar-style":s},{default:be(()=>[ge(r.$slots,"default")]),_:3},8,["style","thumb-style","bar-style"]))}});export{Re as Q,Qe as _};
