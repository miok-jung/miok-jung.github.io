import{Q as ge,_ as me}from"./ScrollArea.vue_vue_type_script_setup_true_lang-DqQWYO3_.js";import{u as he,a as ve,j as ke}from"./use-quasar-Dtvu3f-g.js";import{u as we,f as xe,a as ye,g as Me,c as Ce,b as Se,e as be,h as ne,i as Fe,j as _e}from"./use-key-composition-wFFcBcBq.js";import{r as Q,w as q,n as D,a1 as Ve,c as E,k as te,l as Ee,o as ie,h as K,Q as Re,g as se,a0 as ae,d as oe,E as de,a4 as Ae,f as Z,I as L,a7 as ee,G as Te,a8 as $e,a2 as Y}from"./index-CymH-uQ5.js";import{h as fe}from"./dom-DPWv0bl6.js";import"./QSpinner-CexMyjux.js";const le={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},G={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ce=Object.keys(G);ce.forEach(e=>{G[e].regex=new RegExp(G[e].pattern)});const pe=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ce.join("")+"])|(.)","g"),re=/[.*+?^${}()|[\]\\]/g,w="",qe={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Oe(e,d,M,g){let i,f,R,A,O,y;const C=Q(null),m=Q(F());function W(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}q(()=>e.type+e.autogrow,N),q(()=>e.mask,l=>{if(l!==void 0)B(m.value,!0);else{const n=_(m.value);N(),e.modelValue!==n&&d("update:modelValue",n)}}),q(()=>e.fillMask+e.reverseFillMask,()=>{C.value===!0&&B(m.value,!0)}),q(()=>e.unmaskedValue,()=>{C.value===!0&&B(m.value)});function F(){if(N(),C.value===!0){const l=j(_(e.modelValue));return e.fillMask!==!1?H(l):l}return e.modelValue}function P(l){if(l<i.length)return i.slice(-l);let n="",r=i;const a=r.indexOf(w);if(a!==-1){for(let s=l-r.length;s>0;s--)n+=w;r=r.slice(0,a)+n+r.slice(a)}return r}function N(){if(C.value=e.mask!==void 0&&e.mask.length!==0&&W(),C.value===!1){A=void 0,i="",f="";return}const l=le[e.mask]===void 0?e.mask:le[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",r=n.replace(re,"\\$&"),a=[],s=[],u=[];let k=e.reverseFillMask===!0,o="",c="";l.replace(pe,(x,t,v,T,V)=>{if(T!==void 0){const S=G[T];u.push(S),c=S.negate,k===!0&&(s.push("(?:"+c+"+)?("+S.pattern+"+)?(?:"+c+"+)?("+S.pattern+"+)?"),k=!1),s.push("(?:"+c+"+)?("+S.pattern+")?")}else if(v!==void 0)o="\\"+(v==="\\"?"":v),u.push(v),a.push("([^"+o+"]+)?"+o+"?");else{const S=t!==void 0?t:V;o=S==="\\"?"\\\\\\\\":S.replace(re,"\\\\$&"),u.push(S),a.push("([^"+o+"]+)?"+o+"?")}});const I=new RegExp("^"+a.join("")+"("+(o===""?".":"[^"+o+"]")+"+)?"+(o===""?"":"["+o+"]*")+"$"),p=s.length-1,h=s.map((x,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+r+"*"+x):t===p?new RegExp("^"+x+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":r+"*")):new RegExp("^"+x));R=u,A=x=>{const t=I.exec(e.reverseFillMask===!0?x:x.slice(0,u.length+1));t!==null&&(x=t.slice(1).join(""));const v=[],T=h.length;for(let V=0,S=x;V<T;V++){const z=h[V].exec(S);if(z===null)break;S=S.slice(z.shift().length),v.push(...z)}return v.length!==0?v.join(""):x},i=u.map(x=>typeof x=="string"?x:w).join(""),f=i.split(w).join(n)}function B(l,n,r){const a=g.value,s=a.selectionEnd,u=a.value.length-s,k=_(l);n===!0&&N();const o=j(k),c=e.fillMask!==!1?H(o):o,I=m.value!==c;a.value!==c&&(a.value=c),I===!0&&(m.value=c),document.activeElement===a&&D(()=>{if(c===f){const h=e.reverseFillMask===!0?f.length:0;a.setSelectionRange(h,h,"forward");return}if(r==="insertFromPaste"&&e.reverseFillMask!==!0){const h=a.selectionEnd;let x=s-1;for(let t=O;t<=x&&t<h;t++)i[t]!==w&&x++;b.right(a,x);return}if(["deleteContentBackward","deleteContentForward"].indexOf(r)!==-1){const h=e.reverseFillMask===!0?s===0?c.length>o.length?1:0:Math.max(0,c.length-(c===f?0:Math.min(o.length,u)+1))+1:s;a.setSelectionRange(h,h,"forward");return}if(e.reverseFillMask===!0)if(I===!0){const h=Math.max(0,c.length-(c===f?0:Math.min(o.length,u+1)));h===1&&s===1?a.setSelectionRange(h,h,"forward"):b.rightReverse(a,h)}else{const h=c.length-u;a.setSelectionRange(h,h,"backward")}else if(I===!0){const h=Math.max(0,i.indexOf(w),Math.min(o.length,s)-1);b.right(a,h)}else{const h=s-1;b.right(a,h)}});const p=e.unmaskedValue===!0?_(c):c;String(e.modelValue)!==p&&(e.modelValue!==null||p!=="")&&M(p,!0)}function X(l,n,r){const a=j(_(l.value));n=Math.max(0,i.indexOf(w),Math.min(a.length,n)),O=n,l.setSelectionRange(n,r,"forward")}const b={left(l,n){const r=i.slice(n-1).indexOf(w)===-1;let a=Math.max(0,n-1);for(;a>=0;a--)if(i[a]===w){n=a,r===!0&&n++;break}if(a<0&&i[n]!==void 0&&i[n]!==w)return b.right(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},right(l,n){const r=l.value.length;let a=Math.min(r,n+1);for(;a<=r;a++)if(i[a]===w){n=a;break}else i[a-1]===w&&(n=a);if(a>r&&i[n-1]!==void 0&&i[n-1]!==w)return b.left(l,r);l.setSelectionRange(n,n,"forward")},leftReverse(l,n){const r=P(l.value.length);let a=Math.max(0,n-1);for(;a>=0;a--)if(r[a-1]===w){n=a;break}else if(r[a]===w&&(n=a,a===0))break;if(a<0&&r[n]!==void 0&&r[n]!==w)return b.rightReverse(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},rightReverse(l,n){const r=l.value.length,a=P(r),s=a.slice(0,n+1).indexOf(w)===-1;let u=Math.min(r,n+1);for(;u<=r;u++)if(a[u-1]===w){n=u,n>0&&s===!0&&n--;break}if(u>r&&a[n-1]!==void 0&&a[n-1]!==w)return b.leftReverse(l,r);l.setSelectionRange(n,n,"forward")}};function J(l){d("click",l),y=void 0}function U(l){if(d("keydown",l),Ve(l)===!0||l.altKey===!0)return;const n=g.value,r=n.selectionStart,a=n.selectionEnd;if(l.shiftKey||(y=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&y===void 0&&(y=n.selectionDirection==="forward"?r:a);const s=b[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),s(n,y===r?a:r),l.shiftKey){const u=n.selectionStart;n.setSelectionRange(Math.min(y,u),Math.max(y,u),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&r===a?(b.left(n,r),n.setSelectionRange(n.selectionStart,a,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&r===a&&(b.rightReverse(n,a),n.setSelectionRange(r,n.selectionEnd,"forward"))}function j(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return $(l);const n=R;let r=0,a="";for(let s=0;s<n.length;s++){const u=l[r],k=n[s];if(typeof k=="string")a+=k,u===k&&r++;else if(u!==void 0&&k.regex.test(u))a+=k.transform!==void 0?k.transform(u):u,r++;else return a}return a}function $(l){const n=R,r=i.indexOf(w);let a=l.length-1,s="";for(let u=n.length-1;u>=0&&a!==-1;u--){const k=n[u];let o=l[a];if(typeof k=="string")s=k+s,o===k&&a--;else if(o!==void 0&&k.regex.test(o))do s=(k.transform!==void 0?k.transform(o):o)+s,a--,o=l[a];while(r===u&&o!==void 0&&k.regex.test(o));else return s}return s}function _(l){return typeof l!="string"||A===void 0?typeof l=="number"?A(""+l):l:A(l)}function H(l){return f.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?f.slice(0,-l.length)+l:l+f.slice(l.length)}return{innerValue:m,hasMask:C,moveCursorForPaste:X,updateMaskValue:B,onMaskedKeydown:U,onMaskedClick:J}}function Pe(e,d){function M(){const g=e.modelValue;try{const i="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(g)===g&&("length"in g?Array.from(g):[g]).forEach(f=>{i.items.add(f)}),{files:i.files}}catch{return{files:void 0}}}return E(()=>{if(e.type==="file")return M()})}const Be=te({name:"QInput",inheritAttrs:!1,props:{...we,...qe,...xe,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...ye,"paste","change","keydown","click","animationend"],setup(e,{emit:d,attrs:M}){const{proxy:g}=se(),{$q:i}=g,f={};let R=NaN,A,O,y=null,C;const m=Q(null),W=Me(e),{innerValue:F,hasMask:P,moveCursorForPaste:N,updateMaskValue:B,onMaskedKeydown:X,onMaskedClick:b}=Oe(e,d,o,m),J=Pe(e),U=E(()=>ne(F.value)),j=Fe(u),$=Ce({changeEvent:!0}),_=E(()=>e.type==="textarea"||e.autogrow===!0),H=E(()=>_.value===!0||["text","search","url","tel","password"].includes(e.type)),l=E(()=>{const t={...$.splitAttrs.listeners.value,onInput:u,onPaste:s,onChange:I,onBlur:p,onFocus:ae};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=j,P.value===!0&&(t.onKeydown=X,t.onClick=b),e.autogrow===!0&&(t.onAnimationend=k),t}),n=E(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:W.value,...$.splitAttrs.attributes.value,id:$.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return _.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});q(()=>e.type,()=>{m.value&&(m.value.value=e.modelValue)}),q(()=>e.modelValue,t=>{if(P.value===!0){if(O===!0&&(O=!1,String(t)===R))return;B(t)}else F.value!==t&&(F.value=t,e.type==="number"&&f.hasOwnProperty("value")===!0&&(A===!0?A=!1:delete f.value));e.autogrow===!0&&D(c)}),q(()=>e.autogrow,t=>{t===!0?D(c):m.value!==null&&M.rows>0&&(m.value.style.height="auto")}),q(()=>e.dense,()=>{e.autogrow===!0&&D(c)});function r(){be(()=>{const t=document.activeElement;m.value!==null&&m.value!==t&&(t===null||t.id!==$.targetUid.value)&&m.value.focus({preventScroll:!0})})}function a(){m.value!==null&&m.value.select()}function s(t){if(P.value===!0&&e.reverseFillMask!==!0){const v=t.target;N(v,v.selectionStart,v.selectionEnd)}d("paste",t)}function u(t){if(!t||!t.target)return;if(e.type==="file"){d("update:modelValue",t.target.files);return}const v=t.target.value;if(t.target.qComposing===!0){f.value=v;return}if(P.value===!0)B(v,!1,t.inputType);else if(o(v),H.value===!0&&t.target===document.activeElement){const{selectionStart:T,selectionEnd:V}=t.target;T!==void 0&&V!==void 0&&D(()=>{t.target===document.activeElement&&v.indexOf(t.target.value)===0&&t.target.setSelectionRange(T,V)})}e.autogrow===!0&&c()}function k(t){d("animationend",t),c()}function o(t,v){C=()=>{y=null,e.type!=="number"&&f.hasOwnProperty("value")===!0&&delete f.value,e.modelValue!==t&&R!==t&&(R=t,v===!0&&(O=!0),d("update:modelValue",t),D(()=>{R===t&&(R=NaN)})),C=void 0},e.type==="number"&&(A=!0,f.value=t),e.debounce!==void 0?(y!==null&&clearTimeout(y),f.value=t,y=setTimeout(C,e.debounce)):C()}function c(){requestAnimationFrame(()=>{const t=m.value;if(t!==null){const v=t.parentNode.style,{scrollTop:T}=t,{overflowY:V,maxHeight:S}=i.platform.is.firefox===!0?{}:window.getComputedStyle(t),z=V!==void 0&&V!=="scroll";z===!0&&(t.style.overflowY="hidden"),v.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",z===!0&&(t.style.overflowY=parseInt(S,10)<t.scrollHeight?"auto":"hidden"),v.marginBottom="",t.scrollTop=T}})}function I(t){j(t),y!==null&&(clearTimeout(y),y=null),C!==void 0&&C(),d("change",t.target.value)}function p(t){t!==void 0&&ae(t),y!==null&&(clearTimeout(y),y=null),C!==void 0&&C(),A=!1,O=!1,delete f.value,e.type!=="file"&&setTimeout(()=>{m.value!==null&&(m.value.value=F.value!==void 0?F.value:"")})}function h(){return f.hasOwnProperty("value")===!0?f.value:F.value!==void 0?F.value:""}Ee(()=>{p()}),ie(()=>{e.autogrow===!0&&c()}),Object.assign($,{innerValue:F,fieldClass:E(()=>`q-${_.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:E(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:m,emitValue:o,hasValue:U,floatingLabel:E(()=>U.value===!0&&(e.type!=="number"||isNaN(F.value)===!1)||ne(e.displayValue)),getControl:()=>K(_.value===!0?"textarea":"input",{ref:m,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...l.value,...e.type!=="file"?{value:h()}:J.value}),getShadowControl:()=>K("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(_.value===!0?"":" text-no-wrap")},[K("span",{class:"invisible"},h()),K("span",e.shadowText)])});const x=Se($);return Object.assign(g,{focus:r,select:a,getNativeElement:()=>m.value}),Re(g,"nativeEl",()=>m.value),x}}),ue=te({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:d}){const M=E(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>K(e.tag,{class:M.value},fe(d.default))}}),Ie=te({name:"QCard",props:{...he,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:d}){const{proxy:{$q:M}}=se(),g=ve(e,M),i=E(()=>"q-card"+(g.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>K(e.tag,{class:i.value},fe(d.default))}}),Ne={class:"calculator-wrap"},je=oe({__name:"CalculatorForm",setup(e){const d=Q("");return ie(()=>{console.log("onMounted CalculatorForm")}),(M,g)=>(de(),Ae("div",Ne,[Z(Ie,{class:"row no-shadow",bordered:""},{default:L(()=>[Z(ue,{class:"col left-wrap"},{default:L(()=>[ee("div",null,[Z(Be,{modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=i=>d.value=i)},null,8,["modelValue"])]),g[1]||(g[1]=ee("div",null,"카드 입력 버튼 공간",-1))]),_:1}),Z(ue,{class:"col right-wrap"},{default:L(()=>g[2]||(g[2]=[ee("div",null,"카드 기록 공간",-1)])),_:1})]),_:1})]))}}),ze=(e,d)=>{const M=e.__vccOpts||e;for(const[g,i]of d)M[g]=i;return M},De=ze(je,[["__scopeId","data-v-3aff8fc4"]]),Ye=oe({__name:"CalculatorPage",setup(e){const d=ke(),M=_e(),g=Q(0);function i(f){return g.value=f,{minHeight:f?`calc(${d.screen.height}px - ${f}px)`:`${d.screen.height}px`,width:M.isSidebarShow?`calc(${d.screen.width}px - 300px)`:`${d.screen.width}px`}}return(f,R)=>(de(),Te(ge,{class:"row items-center justify-evenly","style-fn":i},{default:L(()=>[Z(me,{style:$e({width:Y(M).isSidebarShow?`${Y(d).screen.width}px`:`calc(${Y(d).screen.width}px - 300px)`,height:`calc(${Y(d).screen.height}px - ${g.value}px)`})},{default:L(()=>[Z(De)]),_:1},8,["style"])]),_:1}))}});export{Ye as default};
