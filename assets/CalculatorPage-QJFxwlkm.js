import{Q as ke,_ as we}from"./ScrollArea.vue_vue_type_script_setup_true_lang-iNHzE7fn.js";import{u as ye,a as xe,j as de,_ as be,k as Me}from"./_plugin-vue_export-helper-DHiBy5PQ.js";import{u as Ce,f as Se,a as $e,g as Fe,c as Ve,b as Ee,h as ae,e as pe,i as Re}from"./use-key-composition-jjbFJ7Bk.js";import{r as B,w as j,n as U,ai as qe,c as T,k as ne,m as Ae,o as ce,h as H,a1 as Ne,g as fe,ah as le,l as me,d as ge,a as _e,M as ve,aj as Te,f as h,P as G,an as K,al as $,O as Be,as as Oe,am as X}from"./index-D84z0qkk.js";const se={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},J={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},he=Object.keys(J);he.forEach(e=>{J[e].regex=new RegExp(J[e].pattern)});const Pe=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+he.join("")+"])|(.)","g"),ue=/[.*+?^${}()|[\]\\]/g,F="",Ie={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function je(e,g,C,b){let r,c,q,p,E,S;const y=B(null),f=B(s());function d(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}j(()=>e.type+e.autogrow,L),j(()=>e.mask,l=>{if(l!==void 0)z(f.value,!0);else{const n=N(f.value);L(),e.modelValue!==n&&g("update:modelValue",n)}}),j(()=>e.fillMask+e.reverseFillMask,()=>{y.value===!0&&z(f.value,!0)}),j(()=>e.unmaskedValue,()=>{y.value===!0&&z(f.value)});function s(){if(L(),y.value===!0){const l=Z(N(e.modelValue));return e.fillMask!==!1?W(l):l}return e.modelValue}function k(l){if(l<r.length)return r.slice(-l);let n="",u=r;const a=u.indexOf(F);if(a!==-1){for(let o=l-u.length;o>0;o--)n+=F;u=u.slice(0,a)+n+u.slice(a)}return u}function L(){if(y.value=e.mask!==void 0&&e.mask.length!==0&&d(),y.value===!1){p=void 0,r="",c="";return}const l=se[e.mask]===void 0?e.mask:se[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",u=n.replace(ue,"\\$&"),a=[],o=[],i=[];let M=e.reverseFillMask===!0,m="",v="";l.replace(Pe,(V,t,x,O,_)=>{if(O!==void 0){const R=J[O];i.push(R),v=R.negate,M===!0&&(o.push("(?:"+v+"+)?("+R.pattern+"+)?(?:"+v+"+)?("+R.pattern+"+)?"),M=!1),o.push("(?:"+v+"+)?("+R.pattern+")?")}else if(x!==void 0)m="\\"+(x==="\\"?"":x),i.push(x),a.push("([^"+m+"]+)?"+m+"?");else{const R=t!==void 0?t:_;m=R==="\\"?"\\\\\\\\":R.replace(ue,"\\\\$&"),i.push(R),a.push("([^"+m+"]+)?"+m+"?")}});const D=new RegExp("^"+a.join("")+"("+(m===""?".":"[^"+m+"]")+"+)?"+(m===""?"":"["+m+"]*")+"$"),I=o.length-1,w=o.map((V,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+u+"*"+V):t===I?new RegExp("^"+V+"("+(v===""?".":v)+"+)?"+(e.reverseFillMask===!0?"$":u+"*")):new RegExp("^"+V));q=i,p=V=>{const t=D.exec(e.reverseFillMask===!0?V:V.slice(0,i.length+1));t!==null&&(V=t.slice(1).join(""));const x=[],O=w.length;for(let _=0,R=V;_<O;_++){const Q=w[_].exec(R);if(Q===null)break;R=R.slice(Q.shift().length),x.push(...Q)}return x.length!==0?x.join(""):V},r=i.map(V=>typeof V=="string"?V:F).join(""),c=r.split(F).join(n)}function z(l,n,u){const a=b.value,o=a.selectionEnd,i=a.value.length-o,M=N(l);n===!0&&L();const m=Z(M),v=e.fillMask!==!1?W(m):m,D=f.value!==v;a.value!==v&&(a.value=v),D===!0&&(f.value=v),document.activeElement===a&&U(()=>{if(v===c){const w=e.reverseFillMask===!0?c.length:0;a.setSelectionRange(w,w,"forward");return}if(u==="insertFromPaste"&&e.reverseFillMask!==!0){const w=a.selectionEnd;let V=o-1;for(let t=E;t<=V&&t<w;t++)r[t]!==F&&V++;A.right(a,V);return}if(["deleteContentBackward","deleteContentForward"].indexOf(u)!==-1){const w=e.reverseFillMask===!0?o===0?v.length>m.length?1:0:Math.max(0,v.length-(v===c?0:Math.min(m.length,i)+1))+1:o;a.setSelectionRange(w,w,"forward");return}if(e.reverseFillMask===!0)if(D===!0){const w=Math.max(0,v.length-(v===c?0:Math.min(m.length,i+1)));w===1&&o===1?a.setSelectionRange(w,w,"forward"):A.rightReverse(a,w)}else{const w=v.length-i;a.setSelectionRange(w,w,"backward")}else if(D===!0){const w=Math.max(0,r.indexOf(F),Math.min(m.length,o)-1);A.right(a,w)}else{const w=o-1;A.right(a,w)}});const I=e.unmaskedValue===!0?N(v):v;String(e.modelValue)!==I&&(e.modelValue!==null||I!=="")&&C(I,!0)}function ee(l,n,u){const a=Z(N(l.value));n=Math.max(0,r.indexOf(F),Math.min(a.length,n)),E=n,l.setSelectionRange(n,u,"forward")}const A={left(l,n){const u=r.slice(n-1).indexOf(F)===-1;let a=Math.max(0,n-1);for(;a>=0;a--)if(r[a]===F){n=a,u===!0&&n++;break}if(a<0&&r[n]!==void 0&&r[n]!==F)return A.right(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},right(l,n){const u=l.value.length;let a=Math.min(u,n+1);for(;a<=u;a++)if(r[a]===F){n=a;break}else r[a-1]===F&&(n=a);if(a>u&&r[n-1]!==void 0&&r[n-1]!==F)return A.left(l,u);l.setSelectionRange(n,n,"forward")},leftReverse(l,n){const u=k(l.value.length);let a=Math.max(0,n-1);for(;a>=0;a--)if(u[a-1]===F){n=a;break}else if(u[a]===F&&(n=a,a===0))break;if(a<0&&u[n]!==void 0&&u[n]!==F)return A.rightReverse(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},rightReverse(l,n){const u=l.value.length,a=k(u),o=a.slice(0,n+1).indexOf(F)===-1;let i=Math.min(u,n+1);for(;i<=u;i++)if(a[i-1]===F){n=i,n>0&&o===!0&&n--;break}if(i>u&&a[n-1]!==void 0&&a[n-1]!==F)return A.leftReverse(l,u);l.setSelectionRange(n,n,"forward")}};function te(l){g("click",l),S=void 0}function Y(l){if(g("keydown",l),qe(l)===!0||l.altKey===!0)return;const n=b.value,u=n.selectionStart,a=n.selectionEnd;if(l.shiftKey||(S=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&S===void 0&&(S=n.selectionDirection==="forward"?u:a);const o=A[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),o(n,S===u?a:u),l.shiftKey){const i=n.selectionStart;n.setSelectionRange(Math.min(S,i),Math.max(S,i),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&u===a?(A.left(n,u),n.setSelectionRange(n.selectionStart,a,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&u===a&&(A.rightReverse(n,a),n.setSelectionRange(u,n.selectionEnd,"forward"))}function Z(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return P(l);const n=q;let u=0,a="";for(let o=0;o<n.length;o++){const i=l[u],M=n[o];if(typeof M=="string")a+=M,i===M&&u++;else if(i!==void 0&&M.regex.test(i))a+=M.transform!==void 0?M.transform(i):i,u++;else return a}return a}function P(l){const n=q,u=r.indexOf(F);let a=l.length-1,o="";for(let i=n.length-1;i>=0&&a!==-1;i--){const M=n[i];let m=l[a];if(typeof M=="string")o=M+o,m===M&&a--;else if(m!==void 0&&M.regex.test(m))do o=(M.transform!==void 0?M.transform(m):m)+o,a--,m=l[a];while(u===i&&m!==void 0&&M.regex.test(m));else return o}return o}function N(l){return typeof l!="string"||p===void 0?typeof l=="number"?p(""+l):l:p(l)}function W(l){return c.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?c.slice(0,-l.length)+l:l+c.slice(l.length)}return{innerValue:f,hasMask:y,moveCursorForPaste:ee,updateMaskValue:z,onMaskedKeydown:Y,onMaskedClick:te}}function ze(e,g){function C(){const b=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(b)===b&&("length"in b?Array.from(b):[b]).forEach(c=>{r.items.add(c)}),{files:r.files}}catch{return{files:void 0}}}return T(()=>{if(e.type==="file")return C()})}const re=ne({name:"QInput",inheritAttrs:!1,props:{...Ce,...Ie,...Se,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...$e,"paste","change","keydown","click","animationend"],setup(e,{emit:g,attrs:C}){const{proxy:b}=fe(),{$q:r}=b,c={};let q=NaN,p,E,S=null,y;const f=B(null),d=Fe(e),{innerValue:s,hasMask:k,moveCursorForPaste:L,updateMaskValue:z,onMaskedKeydown:ee,onMaskedClick:A}=je(e,g,m,f),te=ze(e),Y=T(()=>ae(s.value)),Z=Re(i),P=Ve({changeEvent:!0}),N=T(()=>e.type==="textarea"||e.autogrow===!0),W=T(()=>N.value===!0||["text","search","url","tel","password"].includes(e.type)),l=T(()=>{const t={...P.splitAttrs.listeners.value,onInput:i,onPaste:o,onChange:D,onBlur:I,onFocus:le};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=Z,k.value===!0&&(t.onKeydown=ee,t.onClick=A),e.autogrow===!0&&(t.onAnimationend=M),t}),n=T(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:d.value,...P.splitAttrs.attributes.value,id:P.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return N.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});j(()=>e.type,()=>{f.value&&(f.value.value=e.modelValue)}),j(()=>e.modelValue,t=>{if(k.value===!0){if(E===!0&&(E=!1,String(t)===q))return;z(t)}else s.value!==t&&(s.value=t,e.type==="number"&&c.hasOwnProperty("value")===!0&&(p===!0?p=!1:delete c.value));e.autogrow===!0&&U(v)}),j(()=>e.autogrow,t=>{t===!0?U(v):f.value!==null&&C.rows>0&&(f.value.style.height="auto")}),j(()=>e.dense,()=>{e.autogrow===!0&&U(v)});function u(){pe(()=>{const t=document.activeElement;f.value!==null&&f.value!==t&&(t===null||t.id!==P.targetUid.value)&&f.value.focus({preventScroll:!0})})}function a(){f.value!==null&&f.value.select()}function o(t){if(k.value===!0&&e.reverseFillMask!==!0){const x=t.target;L(x,x.selectionStart,x.selectionEnd)}g("paste",t)}function i(t){if(!t||!t.target)return;if(e.type==="file"){g("update:modelValue",t.target.files);return}const x=t.target.value;if(t.target.qComposing===!0){c.value=x;return}if(k.value===!0)z(x,!1,t.inputType);else if(m(x),W.value===!0&&t.target===document.activeElement){const{selectionStart:O,selectionEnd:_}=t.target;O!==void 0&&_!==void 0&&U(()=>{t.target===document.activeElement&&x.indexOf(t.target.value)===0&&t.target.setSelectionRange(O,_)})}e.autogrow===!0&&v()}function M(t){g("animationend",t),v()}function m(t,x){y=()=>{S=null,e.type!=="number"&&c.hasOwnProperty("value")===!0&&delete c.value,e.modelValue!==t&&q!==t&&(q=t,x===!0&&(E=!0),g("update:modelValue",t),U(()=>{q===t&&(q=NaN)})),y=void 0},e.type==="number"&&(p=!0,c.value=t),e.debounce!==void 0?(S!==null&&clearTimeout(S),c.value=t,S=setTimeout(y,e.debounce)):y()}function v(){requestAnimationFrame(()=>{const t=f.value;if(t!==null){const x=t.parentNode.style,{scrollTop:O}=t,{overflowY:_,maxHeight:R}=r.platform.is.firefox===!0?{}:window.getComputedStyle(t),Q=_!==void 0&&_!=="scroll";Q===!0&&(t.style.overflowY="hidden"),x.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",Q===!0&&(t.style.overflowY=parseInt(R,10)<t.scrollHeight?"auto":"hidden"),x.marginBottom="",t.scrollTop=O}})}function D(t){Z(t),S!==null&&(clearTimeout(S),S=null),y!==void 0&&y(),g("change",t.target.value)}function I(t){t!==void 0&&le(t),S!==null&&(clearTimeout(S),S=null),y!==void 0&&y(),p=!1,E=!1,delete c.value,e.type!=="file"&&setTimeout(()=>{f.value!==null&&(f.value.value=s.value!==void 0?s.value:"")})}function w(){return c.hasOwnProperty("value")===!0?c.value:s.value!==void 0?s.value:""}Ae(()=>{I()}),ce(()=>{e.autogrow===!0&&v()}),Object.assign(P,{innerValue:s,fieldClass:T(()=>`q-${N.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:T(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:f,emitValue:m,hasValue:Y,floatingLabel:T(()=>Y.value===!0&&(e.type!=="number"||isNaN(s.value)===!1)||ae(e.displayValue)),getControl:()=>H(N.value===!0?"textarea":"input",{ref:f,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...l.value,...e.type!=="file"?{value:w()}:te.value}),getShadowControl:()=>H("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(N.value===!0?"":" text-no-wrap")},[H("span",{class:"invisible"},w()),H("span",e.shadowText)])});const V=Ee(P);return Object.assign(b,{focus:u,select:a,getNativeElement:()=>f.value}),Ne(b,"nativeEl",()=>f.value),V}}),ie=ne({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:g}){const C=T(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>H(e.tag,{class:C.value},me(g.default))}}),De=ne({name:"QCard",props:{...ye,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:g}){const{proxy:{$q:C}}=fe(),b=xe(e,C),r=T(()=>"q-card"+(b.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>H(e.tag,{class:r.value},me(g.default))}}),oe=e=>/^\d+$/.test(e),Ke=e=>/^[+\-*/]$/.test(e),Le=e=>e.match(/(\d+|\+|-|\*|\/)/g).map(g=>/^[0-9]+$/.test(g)?Number(g):g),Ze={class:"calculator-wrap"},Qe={class:"q-gutter-y-sm"},Ue={class:"q-gutter-y-sm"},He={class:"row no-wrap q-gutter-x-sm"},Ye={class:"row no-wrap q-gutter-x-sm"},We={class:"row no-wrap q-gutter-x-sm"},Xe={class:"row no-wrap q-gutter-x-sm"},Ge={class:"row no-wrap q-gutter-x-sm"},Je=ge({__name:"CalculatorForm",setup(e){const g=de(),C=B(""),b=B(""),r=d=>{if(C.value.length===0&&!oe(d)){console.log("첫번째로 연산자 클릭 에러");return}else C.value+=d},c=d=>{oe(d.key)&&(C.value+=d.key)},q=B([]),p=B([]),E=B([]),S=()=>{if(Ke(C.value.slice(-1))){g.notify({message:"숫자를 마지막으로 입력해야 계산이 됩니다.",color:"negative",icon:"mdi-message-alert-outline"});return}for(q.value=Le(C.value),p.value=q.value.filter((d,s)=>s%2!==0).map(String),E.value=q.value.filter((d,s)=>s%2===0).map(Number);p.value.length!==0;)for(let d=0;d<p.value.length;d++)switch(p.value[d]){case"*":{f(d,"*");break}case"/":{f(d,"/");break}case"+":{f(d,"+");break}case"-":{f(d,"-");break}}b.value=y.value.toString()},y=B(0),f=(d,s)=>{s==="*"?y.value=Math.trunc(Number(E.value[d])*Number(E.value[d+1])):s==="/"?y.value=Math.trunc(Number(E.value[d])/Number(E.value[d+1])):s==="+"?y.value=Math.trunc(Number(E.value[d])+Number(E.value[d+1])):s==="-"&&(y.value=Math.trunc(Number(E.value[d])-Number(E.value[d+1]))),E.value.splice(d,2,y.value),p.value.splice(d,1)};return ce(()=>{window.addEventListener("keydown",c)}),_e(()=>{window.removeEventListener("keydown",c)}),(d,s)=>(ve(),Te("div",Ze,[h(De,{class:"row no-shadow",bordered:""},{default:G(()=>[h(ie,{class:"col left-wrap"},{default:G(()=>[K("div",Qe,[h(re,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=k=>C.value=k),dense:"",outlined:"",readonly:""},null,8,["modelValue"]),h(re,{modelValue:b.value,"onUpdate:modelValue":s[1]||(s[1]=k=>b.value=k),dense:"",outlined:"",readonly:""},null,8,["modelValue"])]),K("div",Ue,[K("div",He,[h($,{class:"col",outline:""}),h($,{class:"col",outline:""}),h($,{class:"col",outline:""}),h($,{class:"col",icon:"mdi-backspace-outline",size:"sm",outline:"",onClick:s[2]||(s[2]=k=>r(" * "))})]),K("div",Ye,[h($,{class:"col",label:"7",outline:"",onClick:s[3]||(s[3]=k=>r("7"))}),h($,{class:"col",label:"8",outline:"",onClick:s[4]||(s[4]=k=>r("8"))}),h($,{class:"col",label:"9",outline:"",onClick:s[5]||(s[5]=k=>r("9"))}),h($,{class:"col",label:"X",outline:"",onClick:s[6]||(s[6]=k=>r("*"))})]),K("div",We,[h($,{class:"col",label:"4",outline:"",onClick:s[7]||(s[7]=k=>r("4"))}),h($,{class:"col",label:"5",outline:"",onClick:s[8]||(s[8]=k=>r("5"))}),h($,{class:"col",label:"6",outline:"",onClick:s[9]||(s[9]=k=>r("6"))}),h($,{class:"col",label:"-",outline:"",onClick:s[10]||(s[10]=k=>r("-"))})]),K("div",Xe,[h($,{class:"col",label:"1",outline:"",onClick:s[11]||(s[11]=k=>r("1"))}),h($,{class:"col",label:"2",outline:"",onClick:s[12]||(s[12]=k=>r("2"))}),h($,{class:"col",label:"3",outline:"",onClick:s[13]||(s[13]=k=>r("3"))}),h($,{class:"col",label:"+",outline:"",onClick:s[14]||(s[14]=k=>r("+"))})]),K("div",Ge,[h($,{class:"col",label:"+/-",outline:""}),h($,{class:"col",label:"0",outline:"",onClick:s[15]||(s[15]=k=>r("0"))}),h($,{class:"col",label:".",outline:"",onClick:s[16]||(s[16]=k=>r("."))}),h($,{class:"col",label:"=",outline:"",onClick:S})])])]),_:1}),h(ie,{class:"col right-wrap"})]),_:1})]))}}),et=be(Je,[["__scopeId","data-v-31b9c959"]]),st=ge({__name:"CalculatorPage",setup(e){const g=de(),C=Me(),b=B(0);function r(c){return b.value=c,{minHeight:c?`calc(${g.screen.height}px - ${c}px)`:`${g.screen.height}px`,width:C.isSidebarShow?`calc(${g.screen.width}px - 300px)`:`${g.screen.width}px`}}return(c,q)=>(ve(),Be(ke,{class:"row items-center justify-evenly","style-fn":r},{default:G(()=>[h(we,{style:Oe({width:X(C).isSidebarShow?`${X(g).screen.width}px`:`calc(${X(g).screen.width}px - 300px)`,height:`calc(${X(g).screen.height}px - ${b.value}px)`})},{default:G(()=>[h(et)]),_:1},8,["style"])]),_:1}))}});export{st as default};
