import{Q as ve,_ as he}from"./ScrollArea.vue_vue_type_script_setup_true_lang-DKT5URYf.js";import{u as ke,a as we,_ as xe,j as ye,k as Me}from"./_plugin-vue_export-helper-tE6HAu6M.js";import{u as Ce,f as be,a as Se,g as Fe,c as Ve,b as $e,e as Ee,h as ae,i as Re}from"./use-key-composition-BkgNCn3D.js";import{r as U,w as N,n as Z,a1 as pe,c as T,k as ne,l as qe,o as ue,h as Q,P as Ae,g as de,a0 as le,d as ce,a as Te,D as fe,a2 as _e,f as v,G as W,a5 as j,E as Be,a9 as Pe,a4 as G}from"./index-BvzkyXQ3.js";import{b as M}from"./QBtn-Bs9YGmxc.js";import{h as me}from"./vm-BlVMHJTM.js";const se={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},X={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ge=Object.keys(X);ge.forEach(e=>{X[e].regex=new RegExp(X[e].pattern)});const Ne=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ge.join("")+"])|(.)","g"),ie=/[.*+?^${}()|[\]\\]/g,C="",Oe={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ie(e,o,V,r){let c,m,F,i,h,S;const $=U(null),k=U(p());function J(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}N(()=>e.type+e.autogrow,D),N(()=>e.mask,l=>{if(l!==void 0)I(k.value,!0);else{const n=q(k.value);D(),e.modelValue!==n&&o("update:modelValue",n)}}),N(()=>e.fillMask+e.reverseFillMask,()=>{$.value===!0&&I(k.value,!0)}),N(()=>e.unmaskedValue,()=>{$.value===!0&&I(k.value)});function p(){if(D(),$.value===!0){const l=K(q(e.modelValue));return e.fillMask!==!1?Y(l):l}return e.modelValue}function O(l){if(l<c.length)return c.slice(-l);let n="",s=c;const a=s.indexOf(C);if(a!==-1){for(let d=l-s.length;d>0;d--)n+=C;s=s.slice(0,a)+n+s.slice(a)}return s}function D(){if($.value=e.mask!==void 0&&e.mask.length!==0&&J(),$.value===!1){i=void 0,c="",m="";return}const l=se[e.mask]===void 0?e.mask:se[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",s=n.replace(ie,"\\$&"),a=[],d=[],u=[];let y=e.reverseFillMask===!0,f="",g="";l.replace(Ne,(b,t,x,_,A)=>{if(_!==void 0){const E=X[_];u.push(E),g=E.negate,y===!0&&(d.push("(?:"+g+"+)?("+E.pattern+"+)?(?:"+g+"+)?("+E.pattern+"+)?"),y=!1),d.push("(?:"+g+"+)?("+E.pattern+")?")}else if(x!==void 0)f="\\"+(x==="\\"?"":x),u.push(x),a.push("([^"+f+"]+)?"+f+"?");else{const E=t!==void 0?t:A;f=E==="\\"?"\\\\\\\\":E.replace(ie,"\\\\$&"),u.push(E),a.push("([^"+f+"]+)?"+f+"?")}});const z=new RegExp("^"+a.join("")+"("+(f===""?".":"[^"+f+"]")+"+)?"+(f===""?"":"["+f+"]*")+"$"),P=d.length-1,w=d.map((b,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+s+"*"+b):t===P?new RegExp("^"+b+"("+(g===""?".":g)+"+)?"+(e.reverseFillMask===!0?"$":s+"*")):new RegExp("^"+b));F=u,i=b=>{const t=z.exec(e.reverseFillMask===!0?b:b.slice(0,u.length+1));t!==null&&(b=t.slice(1).join(""));const x=[],_=w.length;for(let A=0,E=b;A<_;A++){const L=w[A].exec(E);if(L===null)break;E=E.slice(L.shift().length),x.push(...L)}return x.length!==0?x.join(""):b},c=u.map(b=>typeof b=="string"?b:C).join(""),m=c.split(C).join(n)}function I(l,n,s){const a=r.value,d=a.selectionEnd,u=a.value.length-d,y=q(l);n===!0&&D();const f=K(y),g=e.fillMask!==!1?Y(f):f,z=k.value!==g;a.value!==g&&(a.value=g),z===!0&&(k.value=g),document.activeElement===a&&Z(()=>{if(g===m){const w=e.reverseFillMask===!0?m.length:0;a.setSelectionRange(w,w,"forward");return}if(s==="insertFromPaste"&&e.reverseFillMask!==!0){const w=a.selectionEnd;let b=d-1;for(let t=h;t<=b&&t<w;t++)c[t]!==C&&b++;R.right(a,b);return}if(["deleteContentBackward","deleteContentForward"].indexOf(s)!==-1){const w=e.reverseFillMask===!0?d===0?g.length>f.length?1:0:Math.max(0,g.length-(g===m?0:Math.min(f.length,u)+1))+1:d;a.setSelectionRange(w,w,"forward");return}if(e.reverseFillMask===!0)if(z===!0){const w=Math.max(0,g.length-(g===m?0:Math.min(f.length,u+1)));w===1&&d===1?a.setSelectionRange(w,w,"forward"):R.rightReverse(a,w)}else{const w=g.length-u;a.setSelectionRange(w,w,"backward")}else if(z===!0){const w=Math.max(0,c.indexOf(C),Math.min(f.length,d)-1);R.right(a,w)}else{const w=d-1;R.right(a,w)}});const P=e.unmaskedValue===!0?q(g):g;String(e.modelValue)!==P&&(e.modelValue!==null||P!=="")&&V(P,!0)}function ee(l,n,s){const a=K(q(l.value));n=Math.max(0,c.indexOf(C),Math.min(a.length,n)),h=n,l.setSelectionRange(n,s,"forward")}const R={left(l,n){const s=c.slice(n-1).indexOf(C)===-1;let a=Math.max(0,n-1);for(;a>=0;a--)if(c[a]===C){n=a,s===!0&&n++;break}if(a<0&&c[n]!==void 0&&c[n]!==C)return R.right(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},right(l,n){const s=l.value.length;let a=Math.min(s,n+1);for(;a<=s;a++)if(c[a]===C){n=a;break}else c[a-1]===C&&(n=a);if(a>s&&c[n-1]!==void 0&&c[n-1]!==C)return R.left(l,s);l.setSelectionRange(n,n,"forward")},leftReverse(l,n){const s=O(l.value.length);let a=Math.max(0,n-1);for(;a>=0;a--)if(s[a-1]===C){n=a;break}else if(s[a]===C&&(n=a,a===0))break;if(a<0&&s[n]!==void 0&&s[n]!==C)return R.rightReverse(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},rightReverse(l,n){const s=l.value.length,a=O(s),d=a.slice(0,n+1).indexOf(C)===-1;let u=Math.min(s,n+1);for(;u<=s;u++)if(a[u-1]===C){n=u,n>0&&d===!0&&n--;break}if(u>s&&a[n-1]!==void 0&&a[n-1]!==C)return R.leftReverse(l,s);l.setSelectionRange(n,n,"forward")}};function te(l){o("click",l),S=void 0}function H(l){if(o("keydown",l),pe(l)===!0||l.altKey===!0)return;const n=r.value,s=n.selectionStart,a=n.selectionEnd;if(l.shiftKey||(S=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&S===void 0&&(S=n.selectionDirection==="forward"?s:a);const d=R[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),d(n,S===s?a:s),l.shiftKey){const u=n.selectionStart;n.setSelectionRange(Math.min(S,u),Math.max(S,u),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&s===a?(R.left(n,s),n.setSelectionRange(n.selectionStart,a,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&s===a&&(R.rightReverse(n,a),n.setSelectionRange(s,n.selectionEnd,"forward"))}function K(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return B(l);const n=F;let s=0,a="";for(let d=0;d<n.length;d++){const u=l[s],y=n[d];if(typeof y=="string")a+=y,u===y&&s++;else if(u!==void 0&&y.regex.test(u))a+=y.transform!==void 0?y.transform(u):u,s++;else return a}return a}function B(l){const n=F,s=c.indexOf(C);let a=l.length-1,d="";for(let u=n.length-1;u>=0&&a!==-1;u--){const y=n[u];let f=l[a];if(typeof y=="string")d=y+d,f===y&&a--;else if(f!==void 0&&y.regex.test(f))do d=(y.transform!==void 0?y.transform(f):f)+d,a--,f=l[a];while(s===u&&f!==void 0&&y.regex.test(f));else return d}return d}function q(l){return typeof l!="string"||i===void 0?typeof l=="number"?i(""+l):l:i(l)}function Y(l){return m.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?m.slice(0,-l.length)+l:l+m.slice(l.length)}return{innerValue:k,hasMask:$,moveCursorForPaste:ee,updateMaskValue:I,onMaskedKeydown:H,onMaskedClick:te}}function ze(e,o){function V(){const r=e.modelValue;try{const c="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(m=>{c.items.add(m)}),{files:c.files}}catch{return{files:void 0}}}return T(()=>{if(e.type==="file")return V()})}const oe=ne({name:"QInput",inheritAttrs:!1,props:{...Ce,...Oe,...be,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Se,"paste","change","keydown","click","animationend"],setup(e,{emit:o,attrs:V}){const{proxy:r}=de(),{$q:c}=r,m={};let F=NaN,i,h,S=null,$;const k=U(null),J=Fe(e),{innerValue:p,hasMask:O,moveCursorForPaste:D,updateMaskValue:I,onMaskedKeydown:ee,onMaskedClick:R}=Ie(e,o,f,k),te=ze(e),H=T(()=>ae(p.value)),K=Re(u),B=Ve({changeEvent:!0}),q=T(()=>e.type==="textarea"||e.autogrow===!0),Y=T(()=>q.value===!0||["text","search","url","tel","password"].includes(e.type)),l=T(()=>{const t={...B.splitAttrs.listeners.value,onInput:u,onPaste:d,onChange:z,onBlur:P,onFocus:le};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=K,O.value===!0&&(t.onKeydown=ee,t.onClick=R),e.autogrow===!0&&(t.onAnimationend=y),t}),n=T(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:J.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return q.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});N(()=>e.type,()=>{k.value&&(k.value.value=e.modelValue)}),N(()=>e.modelValue,t=>{if(O.value===!0){if(h===!0&&(h=!1,String(t)===F))return;I(t)}else p.value!==t&&(p.value=t,e.type==="number"&&m.hasOwnProperty("value")===!0&&(i===!0?i=!1:delete m.value));e.autogrow===!0&&Z(g)}),N(()=>e.autogrow,t=>{t===!0?Z(g):k.value!==null&&V.rows>0&&(k.value.style.height="auto")}),N(()=>e.dense,()=>{e.autogrow===!0&&Z(g)});function s(){Ee(()=>{const t=document.activeElement;k.value!==null&&k.value!==t&&(t===null||t.id!==B.targetUid.value)&&k.value.focus({preventScroll:!0})})}function a(){k.value!==null&&k.value.select()}function d(t){if(O.value===!0&&e.reverseFillMask!==!0){const x=t.target;D(x,x.selectionStart,x.selectionEnd)}o("paste",t)}function u(t){if(!t||!t.target)return;if(e.type==="file"){o("update:modelValue",t.target.files);return}const x=t.target.value;if(t.target.qComposing===!0){m.value=x;return}if(O.value===!0)I(x,!1,t.inputType);else if(f(x),Y.value===!0&&t.target===document.activeElement){const{selectionStart:_,selectionEnd:A}=t.target;_!==void 0&&A!==void 0&&Z(()=>{t.target===document.activeElement&&x.indexOf(t.target.value)===0&&t.target.setSelectionRange(_,A)})}e.autogrow===!0&&g()}function y(t){o("animationend",t),g()}function f(t,x){$=()=>{S=null,e.type!=="number"&&m.hasOwnProperty("value")===!0&&delete m.value,e.modelValue!==t&&F!==t&&(F=t,x===!0&&(h=!0),o("update:modelValue",t),Z(()=>{F===t&&(F=NaN)})),$=void 0},e.type==="number"&&(i=!0,m.value=t),e.debounce!==void 0?(S!==null&&clearTimeout(S),m.value=t,S=setTimeout($,e.debounce)):$()}function g(){requestAnimationFrame(()=>{const t=k.value;if(t!==null){const x=t.parentNode.style,{scrollTop:_}=t,{overflowY:A,maxHeight:E}=c.platform.is.firefox===!0?{}:window.getComputedStyle(t),L=A!==void 0&&A!=="scroll";L===!0&&(t.style.overflowY="hidden"),x.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",L===!0&&(t.style.overflowY=parseInt(E,10)<t.scrollHeight?"auto":"hidden"),x.marginBottom="",t.scrollTop=_}})}function z(t){K(t),S!==null&&(clearTimeout(S),S=null),$!==void 0&&$(),o("change",t.target.value)}function P(t){t!==void 0&&le(t),S!==null&&(clearTimeout(S),S=null),$!==void 0&&$(),i=!1,h=!1,delete m.value,e.type!=="file"&&setTimeout(()=>{k.value!==null&&(k.value.value=p.value!==void 0?p.value:"")})}function w(){return m.hasOwnProperty("value")===!0?m.value:p.value!==void 0?p.value:""}qe(()=>{P()}),ue(()=>{e.autogrow===!0&&g()}),Object.assign(B,{innerValue:p,fieldClass:T(()=>`q-${q.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:T(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:k,emitValue:f,hasValue:H,floatingLabel:T(()=>H.value===!0&&(e.type!=="number"||isNaN(p.value)===!1)||ae(e.displayValue)),getControl:()=>Q(q.value===!0?"textarea":"input",{ref:k,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...l.value,...e.type!=="file"?{value:w()}:te.value}),getShadowControl:()=>Q("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(q.value===!0?"":" text-no-wrap")},[Q("span",{class:"invisible"},w()),Q("span",e.shadowText)])});const b=$e(B);return Object.assign(r,{focus:s,select:a,getNativeElement:()=>k.value}),Ae(r,"nativeEl",()=>k.value),b}}),re=ne({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:o}){const V=T(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Q(e.tag,{class:V.value},me(o.default))}}),je=ne({name:"QCard",props:{...ke,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:o}){const{proxy:{$q:V}}=de(),r=we(e,V),c=T(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Q(e.tag,{class:c.value},me(o.default))}}),De=e=>/^\d+$/.test(e),Ke=e=>e.match(/(\d+|\+|-|\*|\/)/g).map(o=>/^[0-9]+$/.test(o)?Number(o):o),Le={class:"calculator-wrap"},Ze={class:"q-gutter-y-sm"},Qe={class:"q-gutter-y-sm"},Ue={class:"row no-wrap q-gutter-x-sm"},He={class:"row no-wrap q-gutter-x-sm"},Ye={class:"row no-wrap q-gutter-x-sm"},Ge={class:"row no-wrap q-gutter-x-sm"},We={class:"row no-wrap q-gutter-x-sm"},Xe=ce({__name:"CalculatorForm",setup(e){const o=U(""),V=U(""),r=F=>{o.value+=F},c=F=>{De(F.key)&&(o.value+=F.key)},m=()=>{new Array(Ke(o.value))};return ue(()=>{window.addEventListener("keydown",c)}),Te(()=>{window.removeEventListener("keydown",c)}),(F,i)=>(fe(),_e("div",Le,[v(je,{class:"row no-shadow",bordered:""},{default:W(()=>[v(re,{class:"col left-wrap"},{default:W(()=>[j("div",Ze,[v(oe,{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=h=>o.value=h),dense:"",outlined:"",readonly:""},null,8,["modelValue"]),v(oe,{modelValue:V.value,"onUpdate:modelValue":i[1]||(i[1]=h=>V.value=h),dense:"",outlined:"",readonly:""},null,8,["modelValue"])]),j("div",Qe,[j("div",Ue,[v(M,{class:"col",outline:""}),v(M,{class:"col",outline:""}),v(M,{class:"col",outline:""}),v(M,{class:"col",icon:"mdi-backspace-outline",size:"sm",outline:"",onClick:i[2]||(i[2]=h=>r(" * "))})]),j("div",He,[v(M,{class:"col",label:"7",outline:"",onClick:i[3]||(i[3]=h=>r("7"))}),v(M,{class:"col",label:"8",outline:"",onClick:i[4]||(i[4]=h=>r("8"))}),v(M,{class:"col",label:"9",outline:"",onClick:i[5]||(i[5]=h=>r("9"))}),v(M,{class:"col",label:"X",outline:"",onClick:i[6]||(i[6]=h=>r("*"))})]),j("div",Ye,[v(M,{class:"col",label:"4",outline:"",onClick:i[7]||(i[7]=h=>r("4"))}),v(M,{class:"col",label:"5",outline:"",onClick:i[8]||(i[8]=h=>r("5"))}),v(M,{class:"col",label:"6",outline:"",onClick:i[9]||(i[9]=h=>r("6"))}),v(M,{class:"col",label:"-",outline:"",onClick:i[10]||(i[10]=h=>r("-"))})]),j("div",Ge,[v(M,{class:"col",label:"1",outline:"",onClick:i[11]||(i[11]=h=>r("1"))}),v(M,{class:"col",label:"2",outline:"",onClick:i[12]||(i[12]=h=>r("2"))}),v(M,{class:"col",label:"3",outline:"",onClick:i[13]||(i[13]=h=>r("3"))}),v(M,{class:"col",label:"+",outline:"",onClick:i[14]||(i[14]=h=>r("+"))})]),j("div",We,[v(M,{class:"col",label:"+/-",outline:""}),v(M,{class:"col",label:"0",outline:"",onClick:i[15]||(i[15]=h=>r("0"))}),v(M,{class:"col",label:".",outline:"",onClick:i[16]||(i[16]=h=>r("."))}),v(M,{class:"col",label:"=",outline:"",onClick:m})])])]),_:1}),v(re,{class:"col right-wrap"})]),_:1})]))}}),Je=xe(Xe,[["__scopeId","data-v-dabf87c8"]]),it=ce({__name:"CalculatorPage",setup(e){const o=ye(),V=Me(),r=U(0);function c(m){return r.value=m,{minHeight:m?`calc(${o.screen.height}px - ${m}px)`:`${o.screen.height}px`,width:V.isSidebarShow?`calc(${o.screen.width}px - 300px)`:`${o.screen.width}px`}}return(m,F)=>(fe(),Be(ve,{class:"row items-center justify-evenly","style-fn":c},{default:W(()=>[v(he,{style:Pe({width:G(V).isSidebarShow?`${G(o).screen.width}px`:`calc(${G(o).screen.width}px - 300px)`,height:`calc(${G(o).screen.height}px - ${r.value}px)`})},{default:W(()=>[v(Je)]),_:1},8,["style"])]),_:1}))}});export{it as default};
