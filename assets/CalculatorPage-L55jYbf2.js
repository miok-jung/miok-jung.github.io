import{Q as ve,_ as ke}from"./ScrollArea.vue_vue_type_script_setup_true_lang-ivAO23BF.js";import{u as he,a as we,_ as xe,j as ye,k as Me}from"./_plugin-vue_export-helper-DUMOll-4.js";import{u as Ce,f as be,a as Se,g as Fe,c as Ve,b as $e,e as Ee,h as ae,i as Re}from"./use-key-composition-BLqLzc74.js";import{r as U,w as _,n as Z,a1 as qe,c as A,k as ne,l as pe,o as ue,h as Q,P as Ae,g as de,a0 as le,d as ce,a as Te,D as fe,a2 as Be,f as k,G as W,a5 as z,E as Pe,a9 as _e,a4 as G}from"./index-CpCOsEEz.js";import{b as M}from"./QBtn-CXsqeXGv.js";import{h as me}from"./vm-B8BbQcRT.js";const se={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},X={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},ge=Object.keys(X);ge.forEach(e=>{X[e].regex=new RegExp(X[e].pattern)});const Oe=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+ge.join("")+"])|(.)","g"),ie=/[.*+?^${}()|[\]\\]/g,C="",Ne={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Ie(e,g,F,o){let c,r,i,f,O,S;const V=U(null),h=U(R());function J(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}_(()=>e.type+e.autogrow,D),_(()=>e.mask,l=>{if(l!==void 0)I(h.value,!0);else{const n=q(h.value);D(),e.modelValue!==n&&g("update:modelValue",n)}}),_(()=>e.fillMask+e.reverseFillMask,()=>{V.value===!0&&I(h.value,!0)}),_(()=>e.unmaskedValue,()=>{V.value===!0&&I(h.value)});function R(){if(D(),V.value===!0){const l=K(q(e.modelValue));return e.fillMask!==!1?Y(l):l}return e.modelValue}function N(l){if(l<c.length)return c.slice(-l);let n="",s=c;const a=s.indexOf(C);if(a!==-1){for(let d=l-s.length;d>0;d--)n+=C;s=s.slice(0,a)+n+s.slice(a)}return s}function D(){if(V.value=e.mask!==void 0&&e.mask.length!==0&&J(),V.value===!1){f=void 0,c="",r="";return}const l=se[e.mask]===void 0?e.mask:se[e.mask],n=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",s=n.replace(ie,"\\$&"),a=[],d=[],u=[];let y=e.reverseFillMask===!0,m="",v="";l.replace(Oe,(b,t,x,T,p)=>{if(T!==void 0){const $=X[T];u.push($),v=$.negate,y===!0&&(d.push("(?:"+v+"+)?("+$.pattern+"+)?(?:"+v+"+)?("+$.pattern+"+)?"),y=!1),d.push("(?:"+v+"+)?("+$.pattern+")?")}else if(x!==void 0)m="\\"+(x==="\\"?"":x),u.push(x),a.push("([^"+m+"]+)?"+m+"?");else{const $=t!==void 0?t:p;m=$==="\\"?"\\\\\\\\":$.replace(ie,"\\\\$&"),u.push($),a.push("([^"+m+"]+)?"+m+"?")}});const j=new RegExp("^"+a.join("")+"("+(m===""?".":"[^"+m+"]")+"+)?"+(m===""?"":"["+m+"]*")+"$"),P=d.length-1,w=d.map((b,t)=>t===0&&e.reverseFillMask===!0?new RegExp("^"+s+"*"+b):t===P?new RegExp("^"+b+"("+(v===""?".":v)+"+)?"+(e.reverseFillMask===!0?"$":s+"*")):new RegExp("^"+b));i=u,f=b=>{const t=j.exec(e.reverseFillMask===!0?b:b.slice(0,u.length+1));t!==null&&(b=t.slice(1).join(""));const x=[],T=w.length;for(let p=0,$=b;p<T;p++){const L=w[p].exec($);if(L===null)break;$=$.slice(L.shift().length),x.push(...L)}return x.length!==0?x.join(""):b},c=u.map(b=>typeof b=="string"?b:C).join(""),r=c.split(C).join(n)}function I(l,n,s){const a=o.value,d=a.selectionEnd,u=a.value.length-d,y=q(l);n===!0&&D();const m=K(y),v=e.fillMask!==!1?Y(m):m,j=h.value!==v;a.value!==v&&(a.value=v),j===!0&&(h.value=v),document.activeElement===a&&Z(()=>{if(v===r){const w=e.reverseFillMask===!0?r.length:0;a.setSelectionRange(w,w,"forward");return}if(s==="insertFromPaste"&&e.reverseFillMask!==!0){const w=a.selectionEnd;let b=d-1;for(let t=O;t<=b&&t<w;t++)c[t]!==C&&b++;E.right(a,b);return}if(["deleteContentBackward","deleteContentForward"].indexOf(s)!==-1){const w=e.reverseFillMask===!0?d===0?v.length>m.length?1:0:Math.max(0,v.length-(v===r?0:Math.min(m.length,u)+1))+1:d;a.setSelectionRange(w,w,"forward");return}if(e.reverseFillMask===!0)if(j===!0){const w=Math.max(0,v.length-(v===r?0:Math.min(m.length,u+1)));w===1&&d===1?a.setSelectionRange(w,w,"forward"):E.rightReverse(a,w)}else{const w=v.length-u;a.setSelectionRange(w,w,"backward")}else if(j===!0){const w=Math.max(0,c.indexOf(C),Math.min(m.length,d)-1);E.right(a,w)}else{const w=d-1;E.right(a,w)}});const P=e.unmaskedValue===!0?q(v):v;String(e.modelValue)!==P&&(e.modelValue!==null||P!=="")&&F(P,!0)}function ee(l,n,s){const a=K(q(l.value));n=Math.max(0,c.indexOf(C),Math.min(a.length,n)),O=n,l.setSelectionRange(n,s,"forward")}const E={left(l,n){const s=c.slice(n-1).indexOf(C)===-1;let a=Math.max(0,n-1);for(;a>=0;a--)if(c[a]===C){n=a,s===!0&&n++;break}if(a<0&&c[n]!==void 0&&c[n]!==C)return E.right(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},right(l,n){const s=l.value.length;let a=Math.min(s,n+1);for(;a<=s;a++)if(c[a]===C){n=a;break}else c[a-1]===C&&(n=a);if(a>s&&c[n-1]!==void 0&&c[n-1]!==C)return E.left(l,s);l.setSelectionRange(n,n,"forward")},leftReverse(l,n){const s=N(l.value.length);let a=Math.max(0,n-1);for(;a>=0;a--)if(s[a-1]===C){n=a;break}else if(s[a]===C&&(n=a,a===0))break;if(a<0&&s[n]!==void 0&&s[n]!==C)return E.rightReverse(l,0);n>=0&&l.setSelectionRange(n,n,"backward")},rightReverse(l,n){const s=l.value.length,a=N(s),d=a.slice(0,n+1).indexOf(C)===-1;let u=Math.min(s,n+1);for(;u<=s;u++)if(a[u-1]===C){n=u,n>0&&d===!0&&n--;break}if(u>s&&a[n-1]!==void 0&&a[n-1]!==C)return E.leftReverse(l,s);l.setSelectionRange(n,n,"forward")}};function te(l){g("click",l),S=void 0}function H(l){if(g("keydown",l),qe(l)===!0||l.altKey===!0)return;const n=o.value,s=n.selectionStart,a=n.selectionEnd;if(l.shiftKey||(S=void 0),l.keyCode===37||l.keyCode===39){l.shiftKey&&S===void 0&&(S=n.selectionDirection==="forward"?s:a);const d=E[(l.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(l.preventDefault(),d(n,S===s?a:s),l.shiftKey){const u=n.selectionStart;n.setSelectionRange(Math.min(S,u),Math.max(S,u),"forward")}}else l.keyCode===8&&e.reverseFillMask!==!0&&s===a?(E.left(n,s),n.setSelectionRange(n.selectionStart,a,"backward")):l.keyCode===46&&e.reverseFillMask===!0&&s===a&&(E.rightReverse(n,a),n.setSelectionRange(s,n.selectionEnd,"forward"))}function K(l){if(l==null||l==="")return"";if(e.reverseFillMask===!0)return B(l);const n=i;let s=0,a="";for(let d=0;d<n.length;d++){const u=l[s],y=n[d];if(typeof y=="string")a+=y,u===y&&s++;else if(u!==void 0&&y.regex.test(u))a+=y.transform!==void 0?y.transform(u):u,s++;else return a}return a}function B(l){const n=i,s=c.indexOf(C);let a=l.length-1,d="";for(let u=n.length-1;u>=0&&a!==-1;u--){const y=n[u];let m=l[a];if(typeof y=="string")d=y+d,m===y&&a--;else if(m!==void 0&&y.regex.test(m))do d=(y.transform!==void 0?y.transform(m):m)+d,a--,m=l[a];while(s===u&&m!==void 0&&y.regex.test(m));else return d}return d}function q(l){return typeof l!="string"||f===void 0?typeof l=="number"?f(""+l):l:f(l)}function Y(l){return r.length-l.length<=0?l:e.reverseFillMask===!0&&l.length!==0?r.slice(0,-l.length)+l:l+r.slice(l.length)}return{innerValue:h,hasMask:V,moveCursorForPaste:ee,updateMaskValue:I,onMaskedKeydown:H,onMaskedClick:te}}function je(e,g){function F(){const o=e.modelValue;try{const c="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(r=>{c.items.add(r)}),{files:c.files}}catch{return{files:void 0}}}return A(()=>{if(e.type==="file")return F()})}const oe=ne({name:"QInput",inheritAttrs:!1,props:{...Ce,...Ne,...be,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Se,"paste","change","keydown","click","animationend"],setup(e,{emit:g,attrs:F}){const{proxy:o}=de(),{$q:c}=o,r={};let i=NaN,f,O,S=null,V;const h=U(null),J=Fe(e),{innerValue:R,hasMask:N,moveCursorForPaste:D,updateMaskValue:I,onMaskedKeydown:ee,onMaskedClick:E}=Ie(e,g,m,h),te=je(e),H=A(()=>ae(R.value)),K=Re(u),B=Ve({changeEvent:!0}),q=A(()=>e.type==="textarea"||e.autogrow===!0),Y=A(()=>q.value===!0||["text","search","url","tel","password"].includes(e.type)),l=A(()=>{const t={...B.splitAttrs.listeners.value,onInput:u,onPaste:d,onChange:j,onBlur:P,onFocus:le};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=K,N.value===!0&&(t.onKeydown=ee,t.onClick=E),e.autogrow===!0&&(t.onAnimationend=y),t}),n=A(()=>{const t={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:J.value,...B.splitAttrs.attributes.value,id:B.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return q.value===!1&&(t.type=e.type),e.autogrow===!0&&(t.rows=1),t});_(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),_(()=>e.modelValue,t=>{if(N.value===!0){if(O===!0&&(O=!1,String(t)===i))return;I(t)}else R.value!==t&&(R.value=t,e.type==="number"&&r.hasOwnProperty("value")===!0&&(f===!0?f=!1:delete r.value));e.autogrow===!0&&Z(v)}),_(()=>e.autogrow,t=>{t===!0?Z(v):h.value!==null&&F.rows>0&&(h.value.style.height="auto")}),_(()=>e.dense,()=>{e.autogrow===!0&&Z(v)});function s(){Ee(()=>{const t=document.activeElement;h.value!==null&&h.value!==t&&(t===null||t.id!==B.targetUid.value)&&h.value.focus({preventScroll:!0})})}function a(){h.value!==null&&h.value.select()}function d(t){if(N.value===!0&&e.reverseFillMask!==!0){const x=t.target;D(x,x.selectionStart,x.selectionEnd)}g("paste",t)}function u(t){if(!t||!t.target)return;if(e.type==="file"){g("update:modelValue",t.target.files);return}const x=t.target.value;if(t.target.qComposing===!0){r.value=x;return}if(N.value===!0)I(x,!1,t.inputType);else if(m(x),Y.value===!0&&t.target===document.activeElement){const{selectionStart:T,selectionEnd:p}=t.target;T!==void 0&&p!==void 0&&Z(()=>{t.target===document.activeElement&&x.indexOf(t.target.value)===0&&t.target.setSelectionRange(T,p)})}e.autogrow===!0&&v()}function y(t){g("animationend",t),v()}function m(t,x){V=()=>{S=null,e.type!=="number"&&r.hasOwnProperty("value")===!0&&delete r.value,e.modelValue!==t&&i!==t&&(i=t,x===!0&&(O=!0),g("update:modelValue",t),Z(()=>{i===t&&(i=NaN)})),V=void 0},e.type==="number"&&(f=!0,r.value=t),e.debounce!==void 0?(S!==null&&clearTimeout(S),r.value=t,S=setTimeout(V,e.debounce)):V()}function v(){requestAnimationFrame(()=>{const t=h.value;if(t!==null){const x=t.parentNode.style,{scrollTop:T}=t,{overflowY:p,maxHeight:$}=c.platform.is.firefox===!0?{}:window.getComputedStyle(t),L=p!==void 0&&p!=="scroll";L===!0&&(t.style.overflowY="hidden"),x.marginBottom=t.scrollHeight-1+"px",t.style.height="1px",t.style.height=t.scrollHeight+"px",L===!0&&(t.style.overflowY=parseInt($,10)<t.scrollHeight?"auto":"hidden"),x.marginBottom="",t.scrollTop=T}})}function j(t){K(t),S!==null&&(clearTimeout(S),S=null),V!==void 0&&V(),g("change",t.target.value)}function P(t){t!==void 0&&le(t),S!==null&&(clearTimeout(S),S=null),V!==void 0&&V(),f=!1,O=!1,delete r.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=R.value!==void 0?R.value:"")})}function w(){return r.hasOwnProperty("value")===!0?r.value:R.value!==void 0?R.value:""}pe(()=>{P()}),ue(()=>{e.autogrow===!0&&v()}),Object.assign(B,{innerValue:R,fieldClass:A(()=>`q-${q.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:A(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:m,hasValue:H,floatingLabel:A(()=>H.value===!0&&(e.type!=="number"||isNaN(R.value)===!1)||ae(e.displayValue)),getControl:()=>Q(q.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...n.value,...l.value,...e.type!=="file"?{value:w()}:te.value}),getShadowControl:()=>Q("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(q.value===!0?"":" text-no-wrap")},[Q("span",{class:"invisible"},w()),Q("span",e.shadowText)])});const b=$e(B);return Object.assign(o,{focus:s,select:a,getNativeElement:()=>h.value}),Ae(o,"nativeEl",()=>h.value),b}}),re=ne({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:g}){const F=A(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Q(e.tag,{class:F.value},me(g.default))}}),ze=ne({name:"QCard",props:{...he,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:g}){const{proxy:{$q:F}}=de(),o=we(e,F),c=A(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Q(e.tag,{class:c.value},me(g.default))}});function De(e){return/^\d+$/.test(e)}const Ke={class:"calculator-wrap"},Le={class:"q-gutter-y-sm"},Ze={class:"q-gutter-y-sm"},Qe={class:"row no-wrap q-gutter-x-sm"},Ue={class:"row no-wrap q-gutter-x-sm"},He={class:"row no-wrap q-gutter-x-sm"},Ye={class:"row no-wrap q-gutter-x-sm"},Ge={class:"row no-wrap q-gutter-x-sm"},We=ce({__name:"CalculatorForm",setup(e){const g=U(""),F=U("");function o(r){g.value+=r}function c(r){if(console.log("e: ",r.key),De(r.key))g.value+=r.key;else return}return ue(()=>{window.addEventListener("keydown",c)}),Te(()=>{window.removeEventListener("keydown",c)}),(r,i)=>(fe(),Be("div",Ke,[k(ze,{class:"row no-shadow",bordered:""},{default:W(()=>[k(re,{class:"col left-wrap"},{default:W(()=>[z("div",Le,[k(oe,{modelValue:g.value,"onUpdate:modelValue":i[0]||(i[0]=f=>g.value=f),dense:"",outlined:"",readonly:""},null,8,["modelValue"]),k(oe,{modelValue:F.value,"onUpdate:modelValue":i[1]||(i[1]=f=>F.value=f),dense:"",outlined:"",readonly:""},null,8,["modelValue"])]),z("div",Ze,[z("div",Qe,[k(M,{class:"col",outline:""}),k(M,{class:"col",outline:""}),k(M,{class:"col",outline:""}),k(M,{class:"col",icon:"mdi-backspace-outline",size:"sm",outline:"",onClick:i[2]||(i[2]=f=>o(" * "))})]),z("div",Ue,[k(M,{class:"col",label:"7",outline:"",onClick:i[3]||(i[3]=f=>o("7"))}),k(M,{class:"col",label:"8",outline:"",onClick:i[4]||(i[4]=f=>o("8"))}),k(M,{class:"col",label:"9",outline:"",onClick:i[5]||(i[5]=f=>o("9"))}),k(M,{class:"col",label:"X",outline:"",onClick:i[6]||(i[6]=f=>o(" * "))})]),z("div",He,[k(M,{class:"col",label:"4",outline:"",onClick:i[7]||(i[7]=f=>o("4"))}),k(M,{class:"col",label:"5",outline:"",onClick:i[8]||(i[8]=f=>o("5"))}),k(M,{class:"col",label:"6",outline:"",onClick:i[9]||(i[9]=f=>o("6"))}),k(M,{class:"col",label:"-",outline:"",onClick:i[10]||(i[10]=f=>o(" - "))})]),z("div",Ye,[k(M,{class:"col",label:"1",outline:"",onClick:i[11]||(i[11]=f=>o("1"))}),k(M,{class:"col",label:"2",outline:"",onClick:i[12]||(i[12]=f=>o("2"))}),k(M,{class:"col",label:"3",outline:"",onClick:i[13]||(i[13]=f=>o("3"))}),k(M,{class:"col",label:"+",outline:"",onClick:i[14]||(i[14]=f=>o(" + "))})]),z("div",Ge,[k(M,{class:"col",label:"+/-",outline:"",onClick:i[15]||(i[15]=f=>o("+"))}),k(M,{class:"col",label:"0",outline:"",onClick:i[16]||(i[16]=f=>o("0"))}),k(M,{class:"col",label:".",outline:"",onClick:i[17]||(i[17]=f=>o("."))}),k(M,{class:"col",label:"=",outline:""})])])]),_:1}),k(re,{class:"col right-wrap"})]),_:1})]))}}),Xe=xe(We,[["__scopeId","data-v-65958693"]]),st=ce({__name:"CalculatorPage",setup(e){const g=ye(),F=Me(),o=U(0);function c(r){return o.value=r,{minHeight:r?`calc(${g.screen.height}px - ${r}px)`:`${g.screen.height}px`,width:F.isSidebarShow?`calc(${g.screen.width}px - 300px)`:`${g.screen.width}px`}}return(r,i)=>(fe(),Pe(ve,{class:"row items-center justify-evenly","style-fn":c},{default:W(()=>[k(ke,{style:_e({width:G(F).isSidebarShow?`${G(g).screen.width}px`:`calc(${G(g).screen.width}px - 300px)`,height:`calc(${G(g).screen.height}px - ${o.value}px)`})},{default:W(()=>[k(Xe)]),_:1},8,["style"])]),_:1}))}});export{st as default};
